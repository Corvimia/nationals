<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="UTF-8">
        <title>TEST</title>
        <!-- You will need those 2 when you try to use our DB stuff -->
        <script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>
        <script src="data.js"></script>
        
        
        
        <script>
            // some random junk for test
            
            
            
            
            function init(){
                
                var db_name = document.getElementById('db_name').value;
            
                data.init(db_name);
            }
            
            function create_data(){
                
                // create some fake data for now
                students = [{name : 'Simon Lemoine',university_name : 'De Montfort University',category_name : 'High Fantasy'},{name : 'Ben Glover',university_name : 'Leicester Uni',category_name : 'Sci Fi'}];
                unis = [{name : 'De Montfort University'},{name : 'Leicester Uni'}];
                categories = [{name : 'High Fantasy'},{name : 'Sci Fi'}];
                
                data.save('university', unis);
                data.save('category', categories);
                data.save('student', students);
                
            }
            
            function get_data(type){
                
                var list = data.get_list(type);
                
                document.getElementById('display').innerHTML = JSON.stringify(list, null, 2).replace(/\n/g, '<br>').replace(/ /g, '&nbsp;');
                
            }
            
        
        </script>
        
    </head>
    <body onload="init();">
        <input type="text" id="db_name" value="nationals_test_simon">
        <button onclick="init()">init</button>
        <button onclick="create_data()">create_data</button>
        <button onclick="get_data('student')">get_students</button>
        <button onclick="get_data('university')">get_universities</button>
        <button onclick="get_data('category')">get_categories</button>
        
        <div style="border:1px solid black;height:600px;width:1000px;overflow:auto;" id="display"></div>
        
    </body>
</html>